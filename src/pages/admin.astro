---
import MainLayout from '@/layouts/MainLayout.astro';
import { AdminDashboardWithProvider } from '@/components/admin/AdminDashboardWithProvider';

const convexUrl = import.meta.env.PUBLIC_CONVEX_URL;

if (!convexUrl) {
  throw new Error('PUBLIC_CONVEX_URL is not set');
}

export const prerender = false;
---

<MainLayout title="Admin Dashboard | Church Prompt Directory">
  <div class="container py-8">
    <div class="mb-8">
      <h1 class="text-4xl font-bold mb-2">Admin Dashboard</h1>
      <p class="text-lg text-muted-foreground">
        Review and manage prompt submissions from the community.
      </p>
    </div>
    
    <AdminDashboardWithProvider client:only="react" convexUrl={convexUrl} />
  </div>
</MainLayout>
