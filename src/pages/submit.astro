---
import MainLayout from '@/layouts/MainLayout.astro';
import { SubmissionFormWithProvider } from '@/components/prompts/SubmissionFormWithProvider';

const convexUrl = import.meta.env.PUBLIC_CONVEX_URL;

if (!convexUrl) {
  throw new Error('PUBLIC_CONVEX_URL is not set');
}

export const prerender = false;
---

<MainLayout title="Submit a Prompt | Church Prompt Directory">
  <div class="container py-8">
    <div class="max-w-2xl mx-auto mb-8 text-center">
      <h1 class="text-4xl font-bold mb-4">Share Your Expertise</h1>
      <p class="text-lg text-muted-foreground">
        Help fellow ministry leaders by submitting your best AI prompts. Every submission helps strengthen our community.
      </p>
    </div>
    
    <SubmissionFormWithProvider 
      client:only="react"
      convexUrl={convexUrl}
    />
  </div>
</MainLayout>